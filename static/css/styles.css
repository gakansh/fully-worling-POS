/* -----------------------------------------------------------------------------
   Gaming POS â€“ Polished UI
   - Clean spacing & rhythm
   - Accessible focus states
   - Professional color system
   - Better tables, forms, modals
   - Stations grid & status pills
   - Subtle motion; dark mode support
----------------------------------------------------------------------------- */

/* Design tokens */
:root {
  --brand:           #4f86f7;
  --brand-600:       #3a6ed1;
  --brand-050:       #eff4fe;

  --success:         #22a06b;
  --success-700:     #1b8559;
  --danger:          #e14d4d;
  --danger-700:      #c03e3e;
  --warning:         #f59e0b;

  --bg:              #f7f9fc;
  --card:            #ffffff;
  --text:            #1f2937;
  --muted:           #6b7280;
  --line:            #e5e7eb;

  --ring:            rgba(79, 134, 247, .35);
  --shadow-sm:       0 1px 2px rgba(0,0,0,.06);
  --shadow-md:       0 6px 18px rgba(15, 23, 42, .06);

  --radius:          12px;
  --radius-sm:       8px;

  --space-1:         4px;
  --space-2:         8px;
  --space-3:         12px;
  --space-4:         16px;
  --space-5:         20px;
  --space-6:         24px;
  --space-7:         28px;
  --space-8:         32px;

  --font:            -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, "Noto Sans", sans-serif;
}

/* Optional dark mode via attribute */
html[data-theme="dark"] {
  --bg:        #0b1220;
  --card:      #10182a;
  --text:      #e5e7eb;
  --muted:     #9aa4b2;
  --line:      #1f2a44;
  --brand-050: #0f1b35;
  --ring:      rgba(79,134,247,.4);
  --shadow-sm: 0 1px 2px rgba(0,0,0,.5);
  --shadow-md: 0 6px 18px rgba(0,0,0,.35);
}

/* Respect system theme by default */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --bg:        #0b1220;
    --card:      #10182a;
    --text:      #e5e7eb;
    --muted:     #9aa4b2;
    --line:      #1f2a44;
    --brand-050: #0f1b35;
    --ring:      rgba(79,134,247,.4);
    --shadow-sm: 0 1px 2px rgba(0,0,0,.5);
    --shadow-md: 0 6px 18px rgba(0,0,0,.35);
  }
}

/* Base */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: var(--font);
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Focus visibility */
:where(button, [href], input, select, textarea) {
  outline: none;
}
:where(button, [href], input, select, textarea):focus-visible {
  box-shadow: 0 0 0 3px var(--ring);
  border-radius: 8px;
}

/* Header */
.app-header {
  background: linear-gradient(135deg, var(--brand), var(--brand-600));
  color: #fff;
  padding: 28px 20px;
  text-align: center;
  box-shadow: var(--shadow-md);
}
.app-header h1 {
  margin: 0;
  font-size: 22px;
  letter-spacing: .2px;
  font-weight: 700;
}
.app-header .sub {
  margin-top: 6px;
  opacity: .9;
  font-size: 13px;
}

/* Container grid */
.app-container {
  max-width: 1280px;
  margin: var(--space-8) auto;
  padding: 0 var(--space-5);
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
  gap: var(--space-6);
}

/* Card */
.card {
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow-sm);
  padding: var(--space-6);
  display: flex;
  flex-direction: column;
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
}
.card:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
  border-color: color-mix(in oklab, var(--line), var(--brand) 15%);
}
.card > .desc {
  color: var(--muted);
  font-size: 13px;
  margin-top: -4px;
  margin-bottom: var(--space-4);
}

/* Headings */
h2 {
  margin: 0 0 var(--space-4) 0;
  font-size: 18px;
  font-weight: 700;
  color: var(--brand);
  padding-bottom: 10px;
  border-bottom: 1px solid var(--line);
}

/* Section chip nav (optional) */
.chipbar {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
  margin-bottom: var(--space-5);
}
.chip {
  border: 1px solid var(--line);
  background: var(--card);
  color: var(--text);
  padding: 8px 12px;
  border-radius: 999px;
  cursor: pointer;
  font-size: 13px;
  transition: background .15s ease, border-color .15s ease, color .15s ease;
}
.chip:hover { border-color: var(--brand); color: var(--brand); }
.chip.active { background: var(--brand-050); border-color: var(--brand); color: var(--brand-600); }

/* Form */
.form-row {
  display: grid;
  grid-template-columns: 1fr;
  gap: 8px;
  margin-bottom: var(--space-4);
}
.form-row label {
  font-weight: 600;
  font-size: 13px;
}
.form-row .hint {
  color: var(--muted);
  font-size: 12px;
  margin-top: -4px;
}

input[type="text"],
input[type="number"],
select {
  width: 100%;
  padding: 11px 12px;
  border: 1px solid var(--line);
  border-radius: var(--radius-sm);
  background: #fff;
  color: var(--text);
  font-size: 14px;
  transition: border-color .15s ease, box-shadow .15s ease;
}
html[data-theme="dark"] input,
html[data-theme="dark"] select {
  background: #0f1729;
  border-color: #1f2a44;
  color: var(--text);
}

input:focus,
select:focus { border-color: var(--brand); box-shadow: 0 0 0 2px var(--ring); }

input[disabled],
select[disabled] {
  background: color-mix(in oklab, var(--card), #aab4c5 6%);
  color: var(--muted);
  cursor: not-allowed;
}

/* Inline input group */
.input-group {
  display: flex;
  gap: 10px;
}
.input-group > * { flex: 1; }

/* Checkbox line */
.checkbox-line {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 14px;
}
.checkbox-line input[type="checkbox"] {
  width: 18px; height: 18px;
}

/* Buttons */
.btn {
  appearance: none;
  border: none;
  border-radius: 10px;
  padding: 10px 16px;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  user-select: none;
  transition: transform .06s ease, filter .15s ease, background .15s ease;
  box-shadow: var(--shadow-sm);
}
.btn:active { transform: translateY(1px); }

.btn.primary { background: var(--brand); color: #fff; }
.btn.primary:hover { filter: brightness(0.96); }
.btn.success { background: var(--success); color: #fff; }
.btn.success:hover { background: var(--success-700); }
.btn.danger { background: var(--danger); color: #fff; }
.btn.danger:hover { background: var(--danger-700); }
.btn.secondary { background: color-mix(in oklab, var(--card), #cdd6e7 35%); color: var(--text); }
.btn.secondary:hover { filter: brightness(.98); }

.btn.ghost {
  background: transparent;
  border: 1px solid var(--line);
  color: var(--text);
}
.btn.ghost:hover { border-color: var(--brand); color: var(--brand-600); }

/* Button row helper */
.actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

/* Pills / badges */
.pill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  height: 26px;
  padding: 0 10px;
  font-size: 12px;
  font-weight: 700;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: var(--brand-050);
  color: var(--brand-600);
}
.pill.success { background: color-mix(in oklab, #22a06b 10%, var(--card)); color: #177e50; }
.pill.danger  { background: color-mix(in oklab, #e14d4d 10%, var(--card)); color: #a72f2f; }
.pill.warn    { background: color-mix(in oklab, #f59e0b 10%, var(--card)); color: #855300; }

/* Stations grid (A..G) */
.stations-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 12px;
}
.station {
  border: 1px solid var(--line);
  border-radius: var(--radius);
  background: var(--card);
  padding: 14px;
  box-shadow: var(--shadow-sm);
  display: grid;
  gap: 6px;
}
.station .label {
  font-weight: 800;
  font-size: 18px;
  letter-spacing: .5px;
}
.station .status {
  font-size: 12px;
  color: var(--muted);
}
.station.occupied {
  border-color: color-mix(in oklab, var(--danger), var(--line) 60%);
  background: color-mix(in oklab, var(--danger), var(--card) 93%);
}
.station.free {
  border-color: color-mix(in oklab, var(--success), var(--line) 60%);
  background: color-mix(in oklab, var(--success), var(--card) 95%);
}

/* Tables */
.table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  border: 1px solid var(--line);
  border-radius: 10px;
  overflow: hidden;
  font-size: 14px;
}
.table thead tr {
  background: var(--brand-050);
}
.table th, .table td {
  padding: 12px 14px;
  border-bottom: 1px solid var(--line);
  text-align: left;
}
.table th {
  font-weight: 700;
  color: var(--text);
}
.table tbody tr:nth-child(even) { background: color-mix(in oklab, var(--card), #dfe8fb 7%); }
.table tbody tr:hover { background: color-mix(in oklab, var(--brand-050), #fff 60%); }

/* Sessions list table compatibility with your existing IDs */
#sessions-list table { composes: table; } /* if your build doesn't support composes, duplicate styles */
#sessions-list thead tr { background: var(--brand-050); }
#sessions-list th, #sessions-list td {
  padding: 12px 14px; border-bottom: 1px solid var(--line); text-align: left;
}

/* Modal */
.modal-overlay {
  position: fixed; inset: 0;
  background: rgba(3, 10, 27, .55);
  display: grid; place-items: center;
  z-index: 1000;
  padding: 20px;
  animation: fadeIn .15s ease;
}
.modal {
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  width: min(520px, 92vw);
  padding: var(--space-6);
  box-shadow: var(--shadow-md);
  animation: pop .16s ease;
}
.modal h3 {
  margin: 0 0 var(--space-3) 0;
  font-size: 18px;
  color: var(--brand);
}
.modal .modal-buttons {
  display: flex; gap: 10px; justify-content: flex-end; margin-top: var(--space-5);
}

/* Toast (optional) */
.toast {
  position: fixed; right: 16px; bottom: 16px;
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: 12px;
  box-shadow: var(--shadow-md);
  padding: 12px 14px;
  min-width: 2600px;
  display: grid; gap: 6px;
  z-index: 1100;
  animation: slideUp .18s ease;
}
.toast .title { font-weight: 700; font-size: 14px; }
.toast .msg { color: var(--muted); font-size: 13px; }

/* Utility */
.hidden { display: none !important; }
.stack-sm  > * + * { margin-top: 8px; }
.stack-md  > * + * { margin-top: 12px; }
.stack-lg  > * + * { margin-top: 18px; }
.row       { display: flex; gap: 12px; flex-wrap: wrap; }
.row.right { justify-content: flex-end; }

/* Print-friendly invoice tweaks (targets your generated HTML) */
@media print {
  body { background: #fff; }
  .wrap { max-width: 100% !important; margin: 0 !important; padding: 0 !important; }
  table { font-size: 12px; }
}

/* Animations */
@keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }
@keyframes pop { from { transform: translateY(6px); opacity: 0 } to { transform: none; opacity: 1 } }
@keyframes slideUp { from { transform: translateY(10px); opacity: 0 } to { transform: none; opacity: 1 } }

/* Small helpers for status dots and tooltips */
.dot {
  width: 8px; height: 8px; border-radius: 50%; display: inline-block;
}
.dot.green { background: var(--success); }
.dot.red   { background: var(--danger); }
.dot.warn  { background: var(--warning); }

.tooltip {
  position: relative; cursor: help;
}
.tooltip:hover::after {
  content: attr(data-tip);
  position: absolute;
  bottom: calc(100% + 8px); left: 50%; transform: translateX(-50%);
  white-space: nowrap;
  background: #111; color: #fff; padding: 6px 8px; font-size: 12px; border-radius: 6px;
  box-shadow: 0 2px 10px rgba(0,0,0,.2);
}

/* Optional tab strip (if you add tabs later) */
.tabs { display: flex; gap: 8px; border-bottom: 1px solid var(--line); margin-bottom: var(--space-4); }
.tab {
  padding: 10px 12px; font-weight: 600; font-size: 14px; border-radius: 10px 10px 0 0;
  border: 1px solid transparent; border-bottom: none; cursor: pointer;
}
.tab[aria-selected="true"] {
  color: var(--brand-600);
  background: var(--brand-050);
  border-color: var(--line);
}
